<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Apr 21, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Frequently Asked Questions</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 20px;}</style>
    
      
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20120421" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
      
    
    
            
    
        
    <a href="http://github.com/springtestdbunit/spring-test-dbunit">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 100;"
        src="https://a248.e.akamai.net/assets.github.com/img/7afbc8b248c68eb468279e8c17986ad46549fb71/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
                <div id="banner">
        <div class="pull-left">              <div id="bannerLeft">
                <h2>Spring Test DBUnit</h2>
                </div>
      </div>
        <div class="pull-right">              <div id="bannerRight">
                                                                                                <img src="" />
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>
      
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://www.github.com" class="externalLink" title="GitHub">GitHub</a>
        <li class="divider ">/</li>
      </li>
            <li class="">
                    <a href="https://github.com/springtestdbunit/spring-test-dbunit" class="externalLink" title="spring-test-dbunit">spring-test-dbunit</a>
        <li class="divider ">/</li>
      </li>
    <li class=""></li>
      
                
                    
                 <li id="projectVersion" class="pull-right">Version: 1.0.1-SNAPSHOT</li>
      
                                  <li class="divider pull-right">|</li>
                      
    <li class="pull-right">              <a href="http://www.springsource.org/get-started" class="externalLink" title="Spring Framework">Spring Framework</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://www.dbunit.org/" class="externalLink" title="DBUnit">DBUnit</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://www.junit.org/" class="externalLink" title="JUnit">JUnit</a>
  </li>

                        </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
                    
                                   <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Spring-Test DBUnit">Spring-Test DBUnit</a>
            </li>
                  <li class="none">
                          <a href="sample.html" title="Quick Start Example">Quick Start Example</a>
            </li>
                  <li class="none">
            <strong>Frequently Asked Questions</strong>
          </li>
          </ul>
                                 <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                      
                    
                
            
          <div id="poweredBy">
                            <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <h1>Frequently Asked Questions</h1><h2>Is there an easy way to specify the Oracle database schema name to use?</h2><p>You will need to use a custom dbUnitDatabaseConnection bean if you want to specify a schema. Something like:</p>
<pre><code>&lt;bean id=&quot;dbUnitDatabaseConnection&quot; class=&quot;org.springframework.test.dbunit.bean.DatabaseDataSourceConnectionFactoryBean&quot;&gt;
    &lt;property name=&quot;schema&quot; ref=&quot;myschema&quot;/&gt;
&lt;/bean&gt;
</code></pre><p>This specified schema will be passed to the org.dbunit.database.DatabaseConnection <a href="http://www.dbunit.org/apidocs/org/dbunit/database/DatabaseConnection.html#DatabaseConnection%28java.sql.Connection,%20java.lang.String%29">constructor</a>.</p><h2>Is this project in a Maven repository?</h2><p>Not as yet, there is an open issue for this here <a href="https://github.com/springtestdbunit/spring-test-dbunit/issues/8">https://github.com/springtestdbunit/spring-test-dbunit/issues/8</a></p><h2>Is there a way to clear out the Database when tests are complete?</h2><p>The recommendation from DBUnit is that you have a good database setup and don&rsquo;t cleanup (see <a href="http://www.dbunit.org/bestpractices.html#nocleanup)">http://www.dbunit.org/bestpractices.html#nocleanup)</a>. That being said there are occasions where you might want to cleanup your database after every test.</p><p>There are a couple of strategies that you can use:</p><p>1) Use the Spring TransactionalTestExecutionListener and rollback after each test. See the section on Transactions in the project <a href="index.html">readme</a>. This approach can work work for many tests, however, sometimes you may not want to rollback transactions to be sure that no exceptions would have been raised on the commit. For more information about Spring testing with JDBC see the <a href="http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/testing.html#integration-testing-support-jdbc">Spring Reference Documentation</a>.</p><p>2) Use the @DatabaseTearDown annotation on the test class and provide a reset DBUnit XML file. Creating a reset script can often be difficult if you have foreign key constraints (see <a href="http://www.andrewspencer.net/2011/solve-foreign-key-problems-in-dbunit-test-data/)">http://www.andrewspencer.net/2011/solve-foreign-key-problems-in-dbunit-test-data/)</a>. Any empty table element tells DBUnit to delete all data, so a reset script is generally a list of tables in the order that they can be deleted without causing foreign key constraints, e.g.:</p>
<pre><code>&lt;address/&gt;
&lt;custom/&gt;
</code></pre>
                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                   2012.
          All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
